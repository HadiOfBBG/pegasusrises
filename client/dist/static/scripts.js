jQuery(window).load(function() {
	var fix;
	var left_nav,
	currentHeight = $('.contentpanel').outerHeight(),
	displayheight = $( window ).height();
	//***********************************to do list *****************************
	$('.task-finish').click(function()	{
		if($(this).is(':checked'))	{
			$(this).parent().parent().addClass('selected');					
		}
		else	{
			$(this).parent().parent().removeClass('selected');
		}
	});
	//***********************************End to do list *****************************
	
	//***********************************Delete to do list*****************************
	$('.task-del').click(function()	{			
		var activeList = $(this).parent().parent();

		activeList.addClass('removed');
				
		setTimeout(function() {
			activeList.remove();
		}, 1000);
			
		return false;
	});
	//***********************************End Delete to do list *****************************
	
	
	//***********************************navigation menu toggle*****************************
	$(".menutoggle").click(function () {
		if ($('body').hasClass('left_nav_hide')) {
			if(fix==1) $('body').addClass('left_nav_fixed');
			$('body').removeClass('left_nav_hide');
		} 
		else {
			if($('body').hasClass('left_nav_fixed')){fix=1;$('body').removeClass('left_nav_fixed');}
			else fix=0;
			$('body').addClass('left_nav_hide');
			calculateHeight();
		} 
	});
	//***********************************End navigation menu toggle*****************************

	//***********************************Responsive change on navigation menu*****************************
	$(window).resize(function() {
	  var windowsize = $(window).width();
	  displayheight = $( window ).height();
	  if (windowsize < 960) {
		if (!$('body').hasClass('left_nav_hide')) {
			$('body').addClass('left_nav_hide');
			if($('body').hasClass('left_nav_fixed')){
				$('body').removeClass('left_nav_fixed');
				left_nav=1;
			}
			calculateHeight();
		} 
	  }
	  else
	  {
		if ($('body').hasClass('left_nav_hide')) {
			$('body').removeClass('left_nav_hide');
			if(left_nav==1) $('body').addClass('left_nav_fixed');
		}
	  }
		$('.slimScrollDiv').css('height',displayheight-80);
		$('.left_nav_slidebar').css('height',displayheight-80);
	});

    	function calculateHeight(){
		var contentHeight = parseInt($('.contentpanel').height(), 10);
		if (911 > contentHeight) {
		console.log("Small");
		}
	}
	//***********************************End Responsive change on navigation menu*****************************
	function equalHeight(group) {
		tallest = 0;
		group.each(function () {
			thisHeight = $(this).height();
			if (thisHeight > tallest) {
				tallest = thisHeight;
			}
		});
		group.height(tallest);
	}
	
	//***********************************Add Effect*****************************
	$(".btn-mini").click(function(){
		var $td=$(this).closest('tr').children('td');
		if($(this).hasClass('btn-primary')){
			$('body').addClass($td.eq(1).text());
			$(this).removeClass('btn-primary').addClass('btn-danger');
			$(this).text('No');
		}
		else if($(this).hasClass('btn-danger')){
			$('body').removeClass($td.eq(1).text());
			$(this).removeClass('btn-danger').addClass('btn-primary');
			$(this).text('Yes');
		}
	});
	//***********************************End Add Effect*****************************
	
	//***********************************Theme Change*********************************//
//	$('.btn-lg').click(function(){
//		var style=($(this).parent().children('h4').eq(1).text()).split(':'),
//		code=style[1].split(";"),
//		bodyclass=$('body').attr('class').split(" "),
//		themeclass=bodyclass[bodyclass.length-1];
//		applyTheme(themeclass,code[0]);
//
//	});
	//***********************************end Theme Change*********************************//
	
	//***********************************Smooth Sliding menu *****************************
	$('.left_nav_slidebar ul li').on('click',function(e){ 
		e.stopPropagation(); 
		if($(this).has('ul').length) {
			var current_class = $('ul', this).attr("class");
			if(current_class!='opened'){
				$(this).find('ul:visible').slideToggle("normal");
				$(this).find('ul:visible').removeClass("opened");
			}
			if(current_class == 'opened')
			{
				$('ul', this).removeClass("opened");
				$('ul', this).parent().removeClass('left_nav_active theme_border');
			}
			else
			{
				$('.left_nav_slidebar ul li').find('ul:visible').parent().removeClass('left_nav_active theme_border');
				$('.left_nav_slidebar ul li').find('ul:visible').slideToggle("normal");
				$('.left_nav_slidebar ul li').find('ul:visible').removeClass("opened");
				$('ul', this).addClass("opened");
				$('ul', this).parent().addClass('left_nav_active theme_border');
			}
			$('ul', this).slideToggle("normal");
		} 
	});
	//***********************************End Smooth Sliding menu ***************************** 
	
	//***********************************Layout Option************************************//
	$("#demo-setting").click(function () {
		$(".demo").toggleClass("activate");
	}),
	$('input[type="checkbox"]#smart-fixed-header').click(function () {
		$(this).is(":checked") ? $('body').addClass("fixed_header") : $('body').removeClass("fixed_header") ;
	}),
	$('input[type="checkbox"]#smart-fixed-navigation').click(function () {
		$(this).is(":checked") ? $('body').addClass("left_nav_fixed") : $('body').removeClass("left_nav_fixed") ;
	}),
	$('input[type="checkbox"]#smart-rigth-navigation').click(function () {
		$(this).is(":checked") ? $('body').addClass("right_nav") : $('body').removeClass("right_nav") ;
	}),
	$('input[type="checkbox"]#smart-boxed-layout').click(function () {
		$(this).is(":checked") ? $('body').addClass("boxed_layout") : $('body').removeClass("boxed_layout") ;	
	})	
	
	
	$("#smart-styles > a").on("click", function () {
		bodyclass=$('body').attr('class').split(" "),
		themeclass=bodyclass[bodyclass.length-1];
		applyTheme(themeclass,$(this).attr("id"));
		if($(this).attr("id")=='light_theme') $('body').css('background','#ffffff');else  $('body').css('background','#262a33');
	
		$("#smart-styles > a #skin-checked").remove(),
		$(this).prepend("<i class='fa fa-check fa-fw' id='skin-checked'></i>")
	});
	//***********************************End Layout Option************************************//
	
	//***********************************Slim scroller *****************************
//	$('.left_nav_slidebar').each(function () {
//		$(this).slimScroll({
//		size: '5px',
//		color: '#a1b2bd',
//		height: displayheight-80,
//		alwaysVisible: ($(this).attr("data-always-visible") == "1" ? true : false),
//		railVisible: ($(this).attr("data-rail-visible") == "1" ? true : false),
//		disableFadeOut: true
//		});
//	});
	//***********************************End Slimscroller *****************************



	function applyTheme (themeclass,applyClass) {
		if(themeclass=='blue_thm' || themeclass=='red_thm' || themeclass=='magento_thm' || themeclass=='green_thm' || themeclass=='light_theme' || themeclass=='dark_theme'){
			if($('body').hasClass('light_theme') && $.trim(applyClass)=="dark_theme")
				$('body').removeClass('light_theme');
			if($('body').hasClass('dark_theme') && $.trim(applyClass)=="light_theme")
				$('body').removeClass('dark_theme');
			if((themeclass == 'dark_theme' && $.trim(applyClass)!="light_theme") || (themeclass == 'light_theme' && $.trim(applyClass)!="dark_theme"))
				themeclass = '';
			$('body').removeClass(themeclass);
		}
		if($('body').hasClass('light_theme') && $.trim(applyClass) == 'dark_theme'){
			$('body').removeClass('light_theme');
		}	
		$('body').addClass(applyClass);
		
	}	
   
 });
/*
 * angular-google-picker
 *
 * Interact with the Google API Picker
 * More information about the Google API can be found at https://developers.google.com/picker/
 *
 * (c) 2014 Loic Kartono
 * License: MIT
 */

angular.module('lk-google-picker', [])

.provider('lkGoogleSettings', function() {
  this.apiKey   = null;
  this.clientId = null;
  this.scopes   = ['https://www.googleapis.com/auth/drive'];
  this.features = ['MULTISELECT_ENABLED'];
  this.views    = [
    'DocsView().setIncludeFolders(true)',
    'DocsUploadView().setIncludeFolders(true)'
  ];
  this.locale   = 'en'; // Default to English

  /**
   * Provider factory $get method
   * Return Google Picker API settings
   */
  this.$get = function() {
    return {
      apiKey   : this.apiKey,
      clientId : this.clientId,
      scopes   : this.scopes,
      features : this.features,
      views    : this.views,
      locale   : this.locale
    }
  };

  /**
   * Set the API config params using a hash
   */
  this.configure = function(config) {
    for (key in config) {
      this[key] = config[key];
    }
  };
})

.directive('lkGooglePicker', ['lkGoogleSettings', function(lkGoogleSettings) {
  return {
    restrict: 'A',
    scope: {
      pickerFiles: '='
    },
    link: function(scope, element, attrs) {
      var accessToken = null;

      /**
       * Load required modules
       */
      function instanciate() {
        gapi.load('auth', { 'callback': onApiAuthLoad });
        gapi.load('picker');
      }

      /**
       * OAuth autorization
       * If user is already logged in, then open the Picker modal
       */
      function onApiAuthLoad() {
        if (gapi.auth.getToken() && accessToken) {
          openDialog();
        } else {
          gapi.auth.authorize({
            'client_id' : lkGoogleSettings.clientId,
            'scope'     : lkGoogleSettings.scopes,
            'immediate' : false
          }, handleAuthResult);
        }
      }

      /**
       * Google API OAuth response
       */
      function handleAuthResult(result) {
        if (result && !result.error) {
          accessToken = result.access_token;
          openDialog();
        }
      }

      /**
       * Everything is good, open the files picker
       */
      function openDialog() {
        var picker = new google.picker.PickerBuilder()
                               .setLocale(lkGoogleSettings.locale)
                               .setDeveloperKey(lkGoogleSettings.apiKey)
                               .setOAuthToken(accessToken)
                               .setCallback(pickerResponse);

        if (lkGoogleSettings.features.length > 0) {
          angular.forEach(lkGoogleSettings.features, function(feature, key) {
            picker.enableFeature(google.picker.Feature[feature]);
          });
        }

        if (lkGoogleSettings.views.length > 0) {
          angular.forEach(lkGoogleSettings.views, function(view, key) {
            var view = eval('new google.picker.' + view);
            picker.addView(view);
          });
        }

        picker.build().setVisible(true);
      }

      /**
       * Callback invoked when interacting with the Picker
       * data: Object returned by the API
       */
      function pickerResponse(data) {
        if (data.action == google.picker.Action.PICKED) {
          gapi.client.load('drive', 'v2', function() {
            angular.forEach(data.docs, function(file, index) {
              scope.pickerFiles.push(file);
            });
            scope.$apply();
          });
        }
      }

      gapi.load('auth');
      gapi.load('picker');

      element.bind('click', function(e) {
        instanciate();
      });
    }
  }
}]);

/*!
 * ngToast v1.4.0 (http://tameraydin.github.io/ngToast)
 * Copyright 2015 Tamer Aydin
 * Licensed under MIT (http://tameraydin.mit-license.org/)
 */
(function(window, angular, undefined) {
  'use strict';

  angular.module('ngToast.provider', [])
    .provider('ngToast', [
      function() {
        var messages = [],
            messageStack = [];

        var defaults = {
          className: 'success',
          dismissOnTimeout: true,
          timeout: 4000,
          dismissButton: false,
          dismissButtonHtml: '&times;',
          dismissOnClick: true,
          compileContent: false,
          horizontalPosition: 'right', // right, center, left
          verticalPosition: 'top', // top, bottom,
          maxNumber: 0
        };

        function Message(msg) {
          var id = Math.floor(Math.random()*1000);
          while (messages.indexOf(id) > -1) {
            id = Math.floor(Math.random()*1000);
          }

          this.id = id;
          this.className = defaults.className;
          this.dismissOnTimeout = defaults.dismissOnTimeout;
          this.timeout = defaults.timeout;
          this.dismissButton = defaults.dismissButton;
          this.dismissButtonHtml = defaults.dismissButtonHtml;
          this.dismissOnClick = defaults.dismissOnClick;
          this.compileContent = defaults.compileContent;

          angular.extend(this, msg);
        }

        this.configure = function(config) {
          angular.extend(defaults, config);
        };

        this.$get = [function() {
          return {
            settings: defaults,
            messages: messages,
            dismiss: function(id) {
              if (id) {
                for (var i = messages.length - 1; i >= 0; i--) {
                  if (messages[i].id === id) {
                    messages.splice(i, 1);
                    messageStack.splice(messageStack.indexOf(id), 1);
                    return;
                  }
                }

              } else {
                while(messages.length > 0) {
                  messages.pop();
                }
                messageStack = [];
              }
            },
            create: function(msg) {
              if (defaults.maxNumber > 0 &&
                  messageStack.length >= defaults.maxNumber) {
                this.dismiss(messageStack[0]);
              }

              msg = (typeof msg === 'string') ? {content: msg} : msg;

              var newMsg = new Message(msg);
              if (defaults.verticalPosition === 'bottom') {
                messages.unshift(newMsg);
              } else {
                messages.push(newMsg);
              }
              messageStack.push(newMsg.id);
              return newMsg.id;
            }
          };
        }];
      }
    ]);

})(window, window.angular);

(function(window, angular, undefined) {
  'use strict';

  angular.module('ngToast.directives', ['ngToast.provider'])
    .directive('toast', ['ngToast', '$templateCache', '$log',
      function(ngToast, $templateCache, $log) {
        return {
          replace: true,
          restrict: 'EA',
          template:
            '<div class="ng-toast ng-toast--{{hPos}} ng-toast--{{vPos}}">' +
              '<ul class="ng-toast__list">' +
                '<toast-message ng-repeat="message in messages" ' +
                  'message="message">' +
                  '<span ng-bind-html="message.content"></span>' +
                '</toast-message>' +
              '</ul>' +
            '</div>',
          compile: function(tElem, tAttrs) {
            if (tAttrs.template) {
              var template = $templateCache.get(tAttrs.template);
              if (template) {
                tElem.replaceWith(template);
              } else {
                $log.warn('ngToast: Provided template could not be loaded. ' +
                  'Please be sure that it is populated before the <toast> element is represented.');
              }
            }

            return function(scope) {
              scope.hPos = ngToast.settings.horizontalPosition;
              scope.vPos = ngToast.settings.verticalPosition;
              scope.messages = ngToast.messages;
            };
          }
        };
      }
    ])
    .directive('toastMessage', ['$timeout', '$compile', 'ngToast',
      function($timeout, $compile, ngToast) {
        return {
          replace: true,
          transclude: true,
          restrict: 'EA',
          scope: {
            message: '='
          },
          controller: ['$scope', 'ngToast', function($scope, ngToast) {
            $scope.dismiss = function() {
              ngToast.dismiss($scope.message.id);
            };
          }],
          template:
            '<li class="ng-toast__message">' +
              '<div class="alert alert-{{message.className}}" ' +
                'ng-class="{\'alert-dismissible\': message.dismissButton}">' +
                '<button type="button" class="close" ' +
                  'ng-if="message.dismissButton" ' +
                  'ng-bind-html="message.dismissButtonHtml" ' +
                  'ng-click="!message.dismissOnClick && dismiss()">' +
                '</button>' +
                '<span ng-if="!message.compileContent" ng-transclude></span>' +
              '</div>' +
            '</li>',
          link: function(scope, element, attrs, ctrl, transclude) {
            if (scope.message.compileContent) {
              var transcludedEl;

              transclude(scope, function(clone) {
                transcludedEl = clone;
                element.children().append(transcludedEl);
              });

              $timeout(function() {
                $compile(transcludedEl.contents())
                  (scope.$parent, function(compiledClone) {
                    transcludedEl.replaceWith(compiledClone);
                  });
              }, 0);
            }

            if (scope.message.dismissOnTimeout) {
              $timeout(function() {
                ngToast.dismiss(scope.message.id);
              }, scope.message.timeout);
            }

            if (scope.message.dismissOnClick) {
              element.bind('click', function() {
                ngToast.dismiss(scope.message.id);
                scope.$apply();
              });
            }
          }
        };
      }
    ]);

})(window, window.angular);

(function(window, angular, undefined) {
  'use strict';

  angular
    .module('ngToast', [
      'ngAnimate',
      'ngSanitize',
      'ngToast.directives',
      'ngToast.provider'
    ]);

})(window, window.angular);
